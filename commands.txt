ROOT
-----------------

  packages.json
    "ci:test": "cross-env NODE_ENV=test lerna run ci:test",
    "ci:format:check": "lerna run ci:format:check",
    "ci:deploy": "lerna run ci:deploy --since $LATEST_TAG",
    "new-version": "lerna version --conventional-commits --yes"


PACKAGE
-----------------

API-* 
  packages.json
    "docker:login": "echo \"$DOCKERHUB_PASSWORD\" | docker login --username \"$DOCKERHUB_USERNAME\" --password-stdin",
    "docker:build": "docker build -t sincronize/federated-graphql-cicd-api-XXX:latest .",
    "docker:tag-version": "docker tag sincronize/federated-graphql-cicd-api-XXX:latest sincronize/federated-graphql-cicd-api-xxx:$LATEST_TAG",
    "docker:push": "docker push sincronize/federated-graphql-cicd-api-XXX:latest",
    "ci:test": "cross-env NODE_ENV=test jest --ci --runInBand --detectOpenHandles --forceExit",
    "ci:docker": "npm run docker:login && npm run docker:build && docker:tag-version && npm run docker:push",
    "ci:deploy": "npm run ci:docker"

WEB-*
  packages.json



CI
-----------------
  ci.yml

    # DOCKER-HUB LOGIN
    - run: yarn docker:deploy
      env:
          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
          DOCKERHUB_PASSWORD: ${{ secrets.DOCKERHUB_PASSWORD }}


